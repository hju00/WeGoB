# SWEA [pro] 승강제 리그

---

### 문제 설명

N명의 선수들이 L개의 리그에 나뉘어 경기를 진행하는 시뮬레이션 문제입니다. 선수들은 고유한 ID(0 ~ N-1)와 능력 값을 가지고 있으며, **능력 값이 높을수록, 능력 값이 같다면 ID가 낮을수록 더 우수한 선수**로 평가됩니다. 초기에는 N명의 선수가 각 리그에 N/L명씩, ID 순서대로 배정됩니다. 문제의 제약 조건으로 **N은 L의 배수**이며, **N/L은 홀수**입니다.

---

### 시뮬레이션 기능

본 문제는 총 3개의 함수를 구현해야 합니다.

1.  **`init(int N, int L, int mAbility[])`**
    -   테스트 케이스의 시작 시점에 호출되는 초기화 함수입니다.
    -   `N`: 총 선수 수 ($9 \le N \le 39,990$)
    -   `L`: 리그 수 ($3 \le L \le 10$)
    -   `mAbility`: 각 선수의 능력 값 배열 ($1 \le mAbility[] \le 10,000$)

2.  **`move()`**
    -   **승강제**를 적용하는 함수입니다.
    -   각 리그에서 능력이 가장 좋은 선수는 바로 위 리그로 승격하고, 능력이 가장 나쁜 선수는 바로 아래 리그로 강등합니다.
    -   0번 리그의 1위 선수와 L-1번 리그의 꼴찌 선수는 이동하지 않습니다.
    -   이동한 모든 선수들의 ID 값 합을 반환합니다.

3.  **`trade()`**
    -   **트레이드 제도**를 적용하는 함수입니다.
    -   각 리그에서 능력이 가장 좋은 선수는 바로 위 리그의 **중간급 선수**와 맞교환됩니다.
    -   중간급 선수는 리그 인원이 $M$명일 때, **$((M+1) / 2)$번째로 능력이 좋은 선수**를 의미합니다.
    -   0번 리그의 1위 선수와 L-1번 리그의 중간급 선수는 이동하지 않습니다.
    -   이동한 모든 선수들의 ID 값 합을 반환합니다.

---

### 예제

아래는 `init`, `move`, `trade` 함수 호출에 따른 선수들의 이동 및 반환 값을 보여주는 예시입니다.

| # | Function | Moved player’s IDs | return |
|---|---|---|---|
| 1 | `init(15, 3, [...])` | - | - |
| 2 | `move()` | `{0, 9, 7, 10}` | 26 |
| 3 | `move()` | `{9, 10, 0, 11}` | 30 |
| 4 | `trade()` | `{4, 11, 8, 12}` | 35 |
| 5 | `trade()` | `{11, 4, 9, 13}` | 37 |
| 6 | `move()` | `{1, 11, 6, 9}` | 27 |
| 7 | `trade()` | `{11, 12, 1, 8}` | 32 |

---

### 제약사항
-   **시간**: C++ / Java 모두 3초
-   **메모리**: 256MB 이내
-   `move()` 함수는 최대 500회 호출됩니다.
-   `trade()` 함수는 최대 1,000회 호출됩니다.


# SWEA B형 대비 문제 실행 가이드

B형 기출/대비 문제는 \*\*채점기(main)\*\*와 \*\*사용자 구현부(UserSolution)\*\*가 분리되어 있습니다.
입출력은 채점기가 처리하고, 우리는 `UserSolution.java` 안의 알고리즘만 작성하면 됩니다.

---

## 📂 폴더 구조 예시

```
pro_relegationLeague/
 ├─ Solution.java        # 채점기 (수정 ❌)
 ├─ UserSolution.java    # 우리가 구현할 부분 (수정 ⭕)
 └─ res/
     └─ sample_input.txt # 테스트 입력 파일
```

---

## 🛠 실행 흐름

### 1. `Solution.java` (채점기)

* 문제에서 제공하는 기본 뼈대
* 입력을 읽고, 명령(CMD\_INIT, CMD\_MOVE, CMD\_TRADE 등)에 맞춰 `UserSolution`의 함수를 호출
* 출력까지 자동으로 처리
* ⚠ **수정하면 안 됨** (채점 서버에서 오류 가능)

### 2. `UserSolution.java` (사용자 구현부)

* 우리가 직접 구현해야 하는 부분
* `init(...)`, `move()`, `trade()` 함수를 완성
* 자료구조 초기화, 연산 처리 로직 작성

---

## 💻 로컬에서 파일 입출력 테스트 방법

1. **`sample_input.txt` 생성**

   * 문제 예제 입력을 파일로 저장
     예시:

   ```
   1 100
   5
   100 4 1 2 3 4
   200 1
   300 2
   ```

2. **`Solution.java`에서 `System.setIn` 주석 해제**

   ```java
   System.setIn(new java.io.FileInputStream("res/sample_input.txt"));
   ```

3. **컴파일 및 실행**

   ```bash
   javac pro_relegationLeague/*.java
   java pro_relegationLeague.Solution
   ```

---


## 📚 실행 흐름 예시 (승강제 리그)

1. **`CMD_INIT`** → `init(N, L, mAbility)` 호출

   * 선수 수, 리그 수, 능력치 초기 세팅

2. **`CMD_MOVE`** → `move()` 호출

   * 승강/강등 처리, 리턴값 비교

3. **`CMD_TRADE`** → `trade()` 호출

   * 선수 교환 처리, 리턴값 비교

채점기는 `ans`와 리턴값을 비교해 점수를 부여합니다.

---

## 🏷 참고

* 제출 시에는 **`UserSolution.java`만 업로드**
* 로컬 테스트 시에는 `sample_input.txt`로 입출력 확인
* 채점 서버와 동일하게 테스트하려면 `System.setIn` 주석 처리 후 콘솔 입력 사용

---
