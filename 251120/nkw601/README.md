# 🌆 라인 도시 건설

## 1. 문제 요약
- **문제 핵심 내용:**  가로 길이가 N인 토지에 빌딩을 건설하고 제거
- **입력 조건:**  길이 N, 건물길이 mLength, 삭제 주소(시작점) mAAr
- **출력 조건:**  
1) void init(): 비어있는 토지의 길이 N
2) int build(int mLength): mLength의 길이를 가지는 빌딩을 건설, 빌딩의 주소 반환(지을 수 없으면 -1)
3) int demolish(int mAddr): 주소가 mAddr인 빌딩을 제거, 제거한 빌딩 길이 반환(주소 아니면 -1)

- **제약 사항:**  
1) 빌딩의 주소는 빌딩이 세워진 셀 중 가장 왼쪽
2) 비어있는 토지 중 가장 길고, 가장 왼쪽에 있는 토지에 빌딩 건설
3) 빌딩은 선택된 빈공간 내에서 가운데 위치하도록 건설
-> 왼쪽과 오른쪽 빈공간의 길이는 같거나, 오른쪽이 1 더 큼 

---

## 2. 접근 방식

### 2-1. 생각
- pq에 시작, 끝, 길이를 저장
- 정렬 기준을 길이로 두면...
- 중앙까지 넣는게 낫나? 일단 시작 끝 넣어서 풀고... 나중에 생각
- 빌딩의 주소를 저장
- 삭제 어떻게 하지?
- pq에 있는 빈 구간 중, ~ start - 1 이거나, end + 1 ~ ?인 구간이 있다면 합치기

### 2-2. 해결 흐름(단계별 로직)
1. pq에 빈 공간의 길이, 시작, 끝을 저장 
2. 빌딩 건설: poll -> 빈 공간 다시 계산해서 넣기
3. 빌딩 제거: new 빈 공간 계산 -> pq에서 빼기 (어떻게??) 생각 좀 해보기

---

## 3. 시행착오 및 개선
- **초기 접근 방식:** pq 하나로 빈 공간 다 처리하기
- **문제가 되었던 부분:** 철거하는 과정에서 전체 순회 돌렸더니 시간초과 났습니다
- **최종 해결 방식:** pq에서 트리셋으로 바꾸고, 시작점 -> 끝점, 끝점 -> 시작점 관리하는 map 두 개 추가, pq에서 꺼낼 때 살아있는 구간인지 아닌지 확인


---

## 4. 회고
- **배운 점:** 어떻게... 효율적으로... 문제를 풀지...는 끝이 없구나... treeSet pq보다 빠름 조음...